//////////////////////////////////////////////////////////////////////////////
/**
 * @module geo
 */

/*jslint devel: true, forin: true, newcap: true, plusplus: true*/
/*jslint white: true, indent: 2*/

/*global geo, ogs, inherit, $, HTMLCanvasElement, Image*/
/*global document*/
//////////////////////////////////////////////////////////////////////////////

geo.updateRequest = function(time, options, viewer, node) {
  "use strict";

  if (!(this instanceof geo.updateRequest)) {
    return new geo.updateRequest(time, options, viewer, node);
  }
  geo.object.call(this);

   var m_that = this,
       m_time = time,
       m_mapOptions = options,
       m_node = node,
       m_viewer = viewer;

  ////////////////////////////////////////////////////////////////////////////
  /**
   * Return time for the update
   */
  ////////////////////////////////////////////////////////////////////////////
  this.time = function() {
    return m_time;
  };

  ////////////////////////////////////////////////////////////////////////////
  /**
   * Return map options instance
   */
  ////////////////////////////////////////////////////////////////////////////
  this.mapOptions = function() {
    return m_mapOptions;
  };

  ////////////////////////////////////////////////////////////////////////////
  /**
   * Return canvas node
   */
  ////////////////////////////////////////////////////////////////////////////
  this.node = function() {
    return m_node;
  };

   ///////////////////////////////////////////////////////////////////////////
   /**
    * Return viewer instance
    */
   ///////////////////////////////////////////////////////////////////////////
   this.viewer = function() {
    return m_viewer;
   };

  ////////////////////////////////////////////////////////////////////////////
  /**
   * Make a request to draw scene again
   */
  ////////////////////////////////////////////////////////////////////////////
  this.requestRedraw = function() {
    $(this).trigger(geo.command.requestRedrawEvent);
  };
};

inherit(geo.updateRequest, geo.object);
