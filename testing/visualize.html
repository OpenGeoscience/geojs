<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <script type="text/javascript" src="/testing/common/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="/testing/common/js/bootstrap.js"></script>
    <script type="text/javascript" src="/testing/common/js/jquery-ui.js"></script>
    <script type="text/javascript" src="/testing/common/js/gl-matrix.js"></script>
    <script type="text/javascript" src="/testing/common/js/select2.min.js"></script>
    <script type="text/javascript" src="/testing/common/js/tween.min.js"></script>
    <script type="text/javascript" src="/testing/common/js/d3.v3.min.js"></script>
    <script type="text/javascript" src="/testing/common/js/proj4.js"></script>
    <script type="text/javascript" src="/web/lib/geojs.min.js"></script>

    <link href="/testing/common/css/jquery-ui.css" rel=stylesheet type=text/css>
    <link href="/testing/common/css/bootstrap.css" rel=stylesheet type=text/css>
    <link href="/testing/common/css/select2.css" rel=stylesheet type=text/css>
    <link href="/testing/common/css/geoweb.css" rel=stylesheet type=text/css>

    <style>
        html{
            height: 100%;
        }
    </style>

</head>
<body style="height: 100%;">
<div id="editor" style="width: 100%; height: 90%;">&nbsp;</div>
<script>
    var mapOptions = {
        zoom: 6,
        center: geoModule.latlng(0.0, 0.0)
    };

    var canvas = document.getElementById('glcanvas'),
        map = geoModule.map(documemt.getElementById("glcanvas"), mapOptions);

    // Create feature layer
    var pointLayer = geoModule.featureLayer(),
        reader = vglModule.geojsonReader(),
        features = [];

    $.getJSON("/data/countries.json", {
        format: "json"
    })
    .done(function(data) {
      geoms = reader.readGJObject(data);
      for (i = 0; i < geoms.length; ++i) {
        var mapper = ogs.vgl.mapper();
        mapper.setGeometryData(geoms[i]);
        var material = vglModule.utils.createGeometryMaterial();
        var feature = geoModule.feature();
        feature.setMapper(mapper);
        features.push(feature);
      }

      pointLayer.setFeatures(features);
      map.update();
      map.draw();
    });

</script>
</body>