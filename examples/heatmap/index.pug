|---
|title: Heatmap
|about: This example shows how to add a heatmap to a map.
|---
| 
#controls
  .form-group(title="The data set to plot.")
    label(for="dataset") Data Set
    select#dataset(param-name="dataset", placeholder="Activity")
      option(value="adderall", url="AdderallCities2015.csv", title="9555 points") Adderall
      option(value="cities", url="cities.csv", title="30101 points") U.S. Cities
      option(value="earthquakes", url="earthquakes.json", title="1.3 million points") Earthquakes
    span#points-loaded
  .form-group(title="Number of points.  Leave blank for the entire original data set.  If a smaller number, only a subset of points will be shown.  If a larger number, some of the data will be duplicated with random offsets.")
    label(for="points") Number of Points
    input#points(type="number", min="1", step="100")
    span#points-shown
  .form-group(title="Delay between movement and heatmap recalculation in milliseconds.")
    label(for="updateDelay") Update Delay (ms)
    input#updateDelay(type="number", placeholder="50", min=0)
  .form-group(title="Binning the data is faster for large sets and slower for small ones.  Binning tends to make dense data look somewhat sparser.  Smaller bins are closer in appearance to unbinned data but take longer to compute.")
    label(for="binned") Bin Data
    select#binned(placeholder="auto")
      option(value="auto", title="Bin data if there are more points than the number of bins that would be used by default") Auto
      option(value="false", title="Do not bin data.") Never
      option(value="true", title="Always bin data using the default bin size (1/8th of the total radius).") Always
      option(value="3", title="Always bin data using a 3 pixel bin size.") 3 pixel bin size
      option(value="5", title="Always bin data using a 5 pixel bin size.") 5 pixel bin size
      option(value="10", title="Always bin data using a 10 pixel bin size.") 10 pixel bin size
      option(value="15", title="Always bin data using a 15 pixel bin size.") 15 pixel bin size
      option(value="20", title="Always bin data using a 20 pixel bin size.") 20 pixel bin size
      option(value="25", title="Always bin data using a 25 pixel bin size.") 25 pixel bin size
  .form-group(title="Opacity of heatmap layer (0 to 1).")
    label(for="opacity") Opacity
    input#opacity(type="number", placeholder="0.75", min=0, max=1, step=0.05)
  .form-group(title="Value to map to minimum intensity.  Leave blank to auto calculate.")
    label(for="minIntensity") Min. Intensity
    input#minIntensity(type="number")
  .form-group(title="Value to map to maximum intensity.  Leave blank to auto calculate.")
    label(for="maxIntensity") Max. Intensity
    input#maxIntensity(type="number")
  .form-group(title="Radius of center of points in pixels.")
    label(for="radius") Radius
    input#radius(type="number", placeholder="25", min=1)
  .form-group(title="Radius of blur around points in pixels.")
    label(for="blurRadius") Blur Radius
    input#blurRadius(type="number", placeholder="15", min=0)
  .form-group(title="Use either a Gaussian distribution or a solid circle with a blurred edge for each point.  If a Guassian is used, the total radius is the sume of the radius and blur radius values.")
    label(for="gaussian") Gaussian Points
    input#gaussian(type="checkbox", placeholder="true", checked="checked")
  .form-group(title="Color Gradient.  Entries with intensities of 0 and 1 are needed to form a valid color gradient.")
    label Color Gradient
    table.gradient
      tr
        th(title="Intensity.  0 is minimum, 1 is maximum") I
        th(title="Red channel, 0 to 255") R
        th(title="Green channel, 0 to 255") G
        th(title="Blue channel, 0 to 255") B
        th(title="Alpha channel, 0 to 1") A
      tr
        td
          input#gradI1(type="number", min=0, max=1, step=0.01)
        td
          input#gradR1(type="number", min=0, max=255, step=1)
        td
          input#gradG1(type="number", min=0, max=255, step=1)
        td
          input#gradB1(type="number", min=0, max=255, step=1)
        td
          input#gradA1(type="number", min=0, max=1, step=0.01)
      tr
        td
          input#gradI2(type="number", min=0, max=1, step=0.01)
        td
          input#gradR2(type="number", min=0, max=255, step=1)
        td
          input#gradG2(type="number", min=0, max=255, step=1)
        td
          input#gradB2(type="number", min=0, max=255, step=1)
        td
          input#gradA2(type="number", min=0, max=1, step=0.01)
      tr
        td
          input#gradI3(type="number", min=0, max=1, step=0.01)
        td
          input#gradR3(type="number", min=0, max=255, step=1)
        td
          input#gradG3(type="number", min=0, max=255, step=1)
        td
          input#gradB3(type="number", min=0, max=255, step=1)
        td
          input#gradA3(type="number", min=0, max=1, step=0.01)
      tr
        td
          input#gradI4(type="number", min=0, max=1, step=0.01)
        td
          input#gradR4(type="number", min=0, max=255, step=1)
        td
          input#gradG4(type="number", min=0, max=255, step=1)
        td
          input#gradB4(type="number", min=0, max=255, step=1)
        td
          input#gradA4(type="number", min=0, max=1, step=0.01)
      tr
        td
          input#gradI5(type="number", min=0, max=1, step=0.01)
        td
          input#gradR5(type="number", min=0, max=255, step=1)
        td
          input#gradG5(type="number", min=0, max=255, step=1)
        td
          input#gradB5(type="number", min=0, max=255, step=1)
        td
          input#gradA5(type="number", min=0, max=1, step=0.01)
      tr
        td
          input#gradI6(type="number", min=0, max=1, step=0.01)
        td
          input#gradR6(type="number", min=0, max=255, step=1)
        td
          input#gradG6(type="number", min=0, max=255, step=1)
        td
          input#gradB6(type="number", min=0, max=255, step=1)
        td
          input#gradA6(type="number", min=0, max=1, step=0.01)
